---
import FirstSlide from "./slides/FirstSlide.astro";
import SecondSlide from "./slides/SecondSlide.astro";
import ThirdSlide from "./slides/ThirdSlide.astro";
import FourthSlide from "./slides/FourthSlide.astro";
import FifthSlide from "./slides/FifthSlide.astro";
import SixthSlide from "./slides/SixthSlide.astro";
---

<div class="w-full max-w-7xl relative overflow-hidden pt-20 pb-52">
    <!-- Controls -->
    <div class="swiper-button-prev"></div>
    <div
        class="swiper-pagination p-2 rounded-full bg-primary-cotton !absolute !left-0 !right-auto !top-[50%]"
    >
    </div>
    <div class="swiper-button-next"></div>

    <!-- Sliders -->
    <div class="swiper-body ml-9">
        <div
            class="swiper w-full 2xl:max-h-[630px] xl:max-h-[770px] md:h-[780px] sm-h-[850px] max-h-[900px]"
        >
            <div class="swiper-wrapper">
                <div class="swiper-slide"><FirstSlide /></div>
                <div class="swiper-slide"><SecondSlide /></div>
                <div class="swiper-slide"><ThirdSlide /></div>
                <div class="swiper-slide"><FourthSlide /></div>
                <div class="swiper-slide"><FifthSlide /></div>
                <div class="swiper-slide"><SixthSlide /></div>
            </div>
        </div>
    </div>
</div>

<style>
    :global(:root) {
        --swiper-navigation-size: 14px !important;
        --swiper-navigation-color: black !important;
    }

    .swiper {
        /* height: auto; */
        /* max-height: 1200px; */
    }
    .swiper-slide {
        display: flex;
        justify-content: center;
        align-items: end;
        border-radius: 50px;
        cursor: pointer;
    }

    .swiper-button-prev,
    .swiper-button-next {
        --nav-button-spacing: 160px;
        width: 24px;
        height: 24px;
        margin-left: 12px;
        left: 0 !important;
        right: auto !important;
        transform: rotate(90deg);
        transform-origin: left center;
    }

    .swiper-button-prev {
        top: 40% !important;
    }

    .swiper-button-next {
        top: 56.5% !important;
    }

    .swiper-button-prev::after,
    .swiper-button-next::after {
        padding: 7px;
    }

    :global(.swiper-slide-active) {
        cursor: grab !important;
    }

    :global(.swiper-pagination-bullet) {
        opacity: 0.5;
    }

    :global(.swiper-pagination-bullet:hover) {
        transition: opacity 0.3s ease;
        opacity: 0.8;
    }

    :global(.swiper-pagination-bullet-active) {
        opacity: 1;
    }
</style>

<script>
    import Swiper from "swiper";
    import {
        Pagination,
        Navigation,
        Autoplay,
        EffectCards,
        Mousewheel,
    } from "swiper/modules";

    import "swiper/css";
    import "swiper/css/effect-cards";
    import "swiper/css/pagination";
    import "swiper/css/navigation";
    import "swiper/css/autoplay";

    const swiper = new Swiper(".swiper", {
        modules: [EffectCards, Pagination, Navigation, Autoplay, Mousewheel],
        effect: "cards",
        direction: "vertical",
        // centeredSlides: true,
        // navigation: true,
        // autoHeight: true,
        slideToClickedSlide: true,
        // slidesPerView: 1,
        // watchSlidesProgress: true, // Add this
        // allowTouchMove: true, // Add this
        cardsEffect: {
            perSlideOffset: 25,
            perSlideRotate: 0,
            rotate: true,
            slideShadows: false,
        },
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        on: {
            click: function (swiper, event) {
                console.log(event);
            },
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        // autoplay: {
        //     delay: 3000,
        //     pauseOnMouseEnter: true,
        // },
        // on: {
        // 	autoplayTimeLeft(s, time, progress) {
        // 		if (progressCircle) {
        // 			progressCircle.style.setProperty("--progress", 1 - progress);
        // 		}
        // 	},
        // },
    });
</script>
