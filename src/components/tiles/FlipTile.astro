---
interface Props {
    class: string;
}

const { class: className, ...rest } = Astro.props;
---

<div class:list={["flip relative w-full"]} {...rest}>
    <div class:list={["front h-full", className]}>
        <slot name="front-slot" />
    </div>
    <div class:list={["back absolute top-0 left-0 w-full h-full", className]}>
        <slot name="back-slot" />
    </div>
</div>

<style>
    .flip {
        perspective: 1500px;
        transform-style: preserve-3d;

        > .front,
        > .back {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            backface-visibility: hidden;
            transform-style: preserve-3d;
        }

        > .front {
            transform: rotateY(0);
        }

        > .back {
            transform: rotateY(-180deg);
        }

        &:hover {
            > .front {
                transform: rotateY(180deg);
            }
            > .back {
                transform: rotateY(0);
            }
        }

        &.flip-vertical {
            > .back {
                transform: rotateX(-180deg);
            }
            &:hover {
                > .front {
                    transform: rotateX(180deg);
                }
                > .back {
                    transform: rotateX(0);
                }
            }
        }
    }
</style>
